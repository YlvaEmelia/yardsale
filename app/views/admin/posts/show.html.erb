<%= stylesheet_link_tag "article.css" %>

<div id="center_box">
	<h1>Admin single article view</h1>
	<p id="notice"><%= notice %></p>
	<div id="article_box">

		<div id="picture_box">
			<a style="font-size: 24px;" class="w3-btn-floating" 				onclick="plusDivs(-1)">&#10094;&#8239;</a>
			<% if @post.images.empty? %>
				<%= image_tag("no_image.png", :alt => "No image available") %>
			<% else %>
				<% @post.images.each do |i| %>
					<%= attachment_image_tag(i, :file, :limit, 338, 338, format: "jpg", 
					:class => "mySlides") %>
				<% end %>
			<% end %>
			<a style="font-size: 24px;" class="w3-btn-floating" 				onclick="plusDivs(+1)">&#8239;&#10095;</a>
		</div>


		<div id="title_box">
			<h1>
				<% if @post.tjing %>
				<b><%= @post.title %></b>
				<% else %>
				<%= @post.title %>
				<% end %>
    
			</h1>
		</div>

		<div id="price_box">
			<h1 class="price">
				$<%= @post.price %>
			</h1>
		</div>


		<div id="text_box">
			<p>
				<%= simple_format(@post.body) %>
			</p>
		</div>


		<div id="footer_box">
			<p class="footer">
				<%= link_to 'Edit', edit_admin_post_path(@post) %> | 
				<%= link_to 'Back', admin_posts_path %> | 
				Tags: <% @post.tags.each do |tag| %>
					<%= link_to tag.name, tag_path(tag) %>
				<% end %>
			</p>
		</div>

	</div>


	<script>
	var slideIndex = 1;
	showDivs(slideIndex);

	function plusDivs(n) {
		showDivs(slideIndex += n);
	}

	function showDivs(n) {
		var i;
		var x = document.getElementsByClassName("mySlides");
		if (n > x.length) {slideIndex = 1}    
		if (n < 1) {slideIndex = x.length}
		for (i = 0; i < x.length; i++) {
			x[i].style.display = "none";  
		}
		x[slideIndex-1].style.display = "block";  
	}
	</script>